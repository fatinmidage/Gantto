# 任务条拖拽调试指南

## 概述

已为任务条的左侧边界调整功能添加了详细的调试代码，帮助分析拖拽过程中的数据计算和转换。

## 调试信息输出

在执行任务条左侧边界拖拽时，浏览器控制台会输出以下调试信息：

### 1. 🎯 拖拽开始信息
```
🎯 [TaskBar Debug] 鼠标按下 - 开始拖拽
  任务ID: task-123
  拖拽类型: resize-left
  原始日期: 2024-01-01 00:00:00 → 2024-01-10 00:00:00
  原始坐标: x=100, width=200
  原始任务数据: {...}
```

### 2. ✅ 拖拽完成信息
```
✅ [TaskBar Debug] 拖拽完成 - 最终结果
  任务ID: task-123
  拖拽类型: resize-left
  最终位置: x=140, width=120
  像素转换: 80px → 200px
  原始日期: 2024-01-01 00:00:00 → 2024-01-10 00:00:00
  计算日期: 2023-12-28 00:00:00 → 2024-01-10 00:00:00
  日期变化: 起始日期前移4天, 结束日期无变化
```

## 如何使用调试功能

1. **打开浏览器开发者工具**
   - Chrome/Safari: F12 或 Cmd+Option+I
   - 切换到 Console 标签页

2. **执行拖拽操作**
   - 将鼠标悬停在任务条的左边缘（出现调整光标）
   - 按住鼠标左键并拖拽
   - 观察控制台的调试输出

3. **分析调试信息**
   - 检查原始日期和坐标是否正确
   - 对比最终计算的日期是否符合预期

## 关键数据说明

- **x**: 任务条中心点的 X 坐标（像素）
- **width**: 任务条的宽度（像素）
- **像素转换**: 从像素位置转换为日期的过程
- **日期变化**: 对比拖拽前后的日期差异

## 问题排查

如果发现日期计算错误，重点关注：
1. 原始任务的坐标和日期是否正确
2. 最终位置到日期的转换逻辑
3. 拖拽前后的日期变化是否符合预期

## 移除调试代码

调试完成后，可以移除相关调试代码：
1. 删除 `src/utils/debugUtils.ts` 文件
2. 移除 `useTaskBarDrag.ts` 中的 `logDragStart` 调用
3. 移除 `GanttEventHandler.tsx` 中的 `logDragComplete` 调用
4. 清理相关的 import 语句