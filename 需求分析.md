# Gantto 项目需求分析文档

## 1. 引言

### 1.1. 项目背景
随着项目管理需求的日益增长，项目经理和团队需要一款轻量、高效且跨平台的桌面工具来创建、跟踪和管理项目进度。Gantto 旨在解决这一需求，提供一个直观的甘特图解决方案，帮助用户清晰地规划和可视化项目时间线。

### 1.2. 项目目标
- 开发一款功能完善、性能卓越的桌面甘特图应用。
- 提供简洁、现代且用户友好的交互界面。
- 实现跨平台兼容性，支持在 Windows, macOS 和 Linux 上运行。
- 确保数据的本地化存储，保障用户数据的私密性和安全性。

### 1.3. 目标用户
- 项目经理、产品经理和团队负责人。
- 需要进行任务规划和进度跟踪的个人开发者或小型团队。
- 学生、研究人员等需要进行简单日程规划的用户。

## 2. 功能需求

### 2.1. 项目管理
- **创建项目**: 用户可以创建一个新的空白项目。
- **打开项目**: 用户可以从本地文件系统打开一个已存在的项目文件（例如 `.gantto` 或 `.json` 格式）。
- **保存项目**: 用户可以将当前的项目状态保存到本地文件。
- **另存为**: 用户可以将当前项目另存为一个新文件。
- **项目信息**: 支持编辑和查看项目名称、开始日期等基本信息。

### 2.2. 任务管理
- **添加任务**: 在任务列表中添加新的任务。
- **编辑任务**: 修改任务的属性，包括：
    - 任务名称
    - 持续时间（Duration）
    - 开始日期（Start Date）
    - 结束日期（End Date）
    - 进度（Progress, 0-100%）
- **删除任务**: 从项目中移除一个或多个任务。
- **层级结构**: 支持通过缩进/反缩进操作创建父子任务关系（WBS, Work Breakdown Structure），父任务的起止时间和进度可以根据子任务自动计算。

### 2.3. 依赖关系
- **设置依赖**: 用户可以为任务设置依赖关系，目前主要支持“完成-开始”（Finish-to-Start, FS）的依赖类型。
- **可视化依赖**: 在甘特图上使用箭头等形式清晰地展示任务间的依赖关系。
- **自动排期**: 当一个前置任务的日期发生变更时，其后继任务的开始日期应自动调整。

### 2.4. 甘特图可视化
- **时间轴**: 提供一个可清晰展示任务分布的时间轴。
- **任务条**: 在时间轴上以条状图（Bar）的形式展示每个任务的起止时间和长度。
- **进度显示**: 在任务条内部通过不同的颜色或填充比例来显示任务的完成进度。
- **时间缩放**: 用户可以按天、周、月、季度等不同粒度缩放时间轴。
- **今日标记**: 在时间轴上高亮显示当前日期。
- **滚动与导航**: 支持在甘特图区域内平滑地水平和垂直滚动。

### 2.5. 交互性
- **拖拽调整时间**: 用户可以通过在图表上拖动任务条来改变其开始日期。
- **拖拽调整工期**: 用户可以通过拖动任务条的边缘来改变其持续时间。
- **点击查看详情**: 点击任务列表或图表中的任务，可以快速定位并编辑其详细信息。

### 2.6. 导出与分享
- **导出为图片**: 支持将当前视图的甘特图导出为 PNG 或 SVG 格式的图片，便于分享和报告。
- **(可选) 导出为PDF**: 支持将项目报告导出为 PDF 文档。

## 3. 非功能需求

### 3.1. 性能需求
- **启动速度**: 应用应在 3 秒内完成启动。
- **渲染性能**: 即使在包含 500+ 任务的项目中，界面的滚动、缩放和拖拽等操作也应保持流畅，无明显卡顿。
- **资源占用**: 应用在空闲状态下应占用较少的 CPU 和内存资源。

### 3.2. 平台兼容性
- 应用必须能够在主流的 Windows (10, 11), macOS (最新版) 和 Linux (Ubuntu LTS) 操作系统上稳定运行。

### 3.3. 用户界面 (UI/UX)
- **设计风格**: 界面应简洁、现代，遵循主流桌面应用的设计规范。
- **易用性**: 核心操作应直观，新用户无需查阅文档即可完成基本操作。
- **响应式布局**: 窗口大小调整时，界面元素能够自适应布局。

### 3.4. 可靠性与数据安全
- **数据存储**: 项目数据存储在本地，应用不依赖网络连接。
- **文件格式**: 使用结构化、易于解析的格式（如 JSON）存储项目数据。
- **稳定性**: 应用应运行稳定，避免频繁崩溃和数据丢失。在发生错误时，应有适当的提示。

## 4. 技术栈

- **核心框架**: Tauri (Rust + Webview)
- **前端技术**: React, TypeScript, Vite
- **状态管理**: (待定, 例如 Zustand, Redux Toolkit)
- **UI 组件库**: (待定, 考虑使用 Mantine, Shadcn/UI 或自定义组件)
